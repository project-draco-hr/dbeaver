{
  DBPDataSource dataSource=editor.getDataSource();
  if (queryType != null && dataSource != null) {
    if (wordPart.length() == 0) {
      DBSObject rootObject=null;
      if (queryType == QueryType.COLUMN && dataSource instanceof DBSObjectContainer) {
        rootObject=getTableFromAlias(monitor,(DBSObjectContainer)dataSource,null);
      }
 else       if (dataSource instanceof DBSObjectContainer) {
        DBSObjectSelector objectSelector=DBUtils.getAdapter(DBSObjectSelector.class,dataSource);
        if (objectSelector != null) {
          DBSObject selectedObject=objectSelector.getSelectedObject();
          if (selectedObject != null) {
            makeProposalsFromChildren(monitor,selectedObject,null,proposals);
          }
        }
        rootObject=(DBSObjectContainer)dataSource;
      }
      if (rootObject != null) {
        makeProposalsFromChildren(monitor,rootObject,null,proposals);
      }
    }
 else {
      makeStructureProposals(monitor,dataSource,proposals);
    }
  }
 else {
    makeStructureProposals(monitor,dataSource,proposals);
  }
}
