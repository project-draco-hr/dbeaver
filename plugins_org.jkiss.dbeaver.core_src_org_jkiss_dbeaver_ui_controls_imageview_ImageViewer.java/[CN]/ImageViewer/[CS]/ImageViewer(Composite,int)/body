{
  super(parent,style);
  setLayout(new FillLayout());
  canvas=new ImageViewCanvas(this,SWT.NONE);
  Transfer[] types=new Transfer[]{ImageTransfer.getInstance()};
  int operations=DND.DROP_COPY;
  final DragSource source=new DragSource(canvas,operations);
  source.setTransfer(types);
  source.addDragListener(new DragSourceListener(){
    @Override public void dragStart(    DragSourceEvent event){
    }
    @Override public void dragSetData(    DragSourceEvent event){
      if (canvas.getImageData() != null) {
        event.data=canvas.getImageData();
      }
 else {
        event.data=null;
      }
    }
    @Override public void dragFinished(    DragSourceEvent event){
    }
  }
);
}
