{
  final IProject activeProject=DBeaverCore.getInstance().getProjectRegistry().getActiveProject();
  if (activeProject == null) {
    return DBNModel.getInstance().getRoot();
  }
  final DBNProject projectNode=DBeaverCore.getInstance().getNavigatorModel().getRoot().getProject(activeProject);
  DBNNode scriptsNode=projectNode;
  final IFolder scriptsFolder;
  try {
    scriptsFolder=ScriptsHandlerImpl.getScriptsFolder(activeProject,false);
  }
 catch (  CoreException e) {
    log.error(e);
    return scriptsNode;
  }
  if (!scriptsFolder.exists()) {
    return scriptsNode;
  }
  try {
    for (    DBNNode projectFolder : projectNode.getChildren(VoidProgressMonitor.INSTANCE)) {
      if (projectFolder instanceof DBNResource && ((DBNResource)projectFolder).getResource().equals(scriptsFolder)) {
        scriptsNode=projectFolder;
        break;
      }
    }
  }
 catch (  DBException e) {
    log.error(e);
  }
  return scriptsNode;
}
