{
  JDBCSession session=container.getDataSource().getDefaultContext(true).openSession(monitor,DBCExecutionPurpose.META,"Read procedure definition");
  try {
    JDBCPreparedStatement dbStat=session.prepareStatement("SELECT RDB$GENERATOR_NAME,RDB$DESCRIPTION FROM RDB$GENERATORS");
    try {
      JDBCResultSet dbResult=dbStat.executeQuery();
      try {
        List<GenericSequence> result=new ArrayList<GenericSequence>();
        while (dbResult.next()) {
          String name=JDBCUtils.safeGetString(dbResult,1);
          String description=JDBCUtils.safeGetString(dbResult,2);
          JDBCPreparedStatement dbSeqStat=session.prepareStatement("SELECT GEN_ID(" + name + ", 0) from RDB$DATABASE");
          try {
            JDBCResultSet seqResults=dbSeqStat.executeQuery();
            try {
              seqResults.next();
              GenericSequence sequence=new GenericSequence(container,name,description,JDBCUtils.safeGetLong(seqResults,1),0,-1,1);
              result.add(sequence);
            }
  finally {
              seqResults.close();
            }
          }
  finally {
            dbSeqStat.close();
          }
        }
        return result;
      }
  finally {
        dbResult.close();
      }
    }
  finally {
      dbStat.close();
    }
  }
 catch (  SQLException e) {
    throw new DBException(e,container.getDataSource());
  }
 finally {
    session.close();
  }
}
