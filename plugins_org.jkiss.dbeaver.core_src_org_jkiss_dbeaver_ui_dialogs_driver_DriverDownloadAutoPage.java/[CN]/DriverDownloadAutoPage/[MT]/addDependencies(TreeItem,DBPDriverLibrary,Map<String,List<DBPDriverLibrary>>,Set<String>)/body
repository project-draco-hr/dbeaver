{
  Collection<? extends DBPDriverLibrary> dependencies=depMap.get(library.getPath());
  if (dependencies != null && !dependencies.isEmpty()) {
    Map<DBPDriverLibrary,TreeItem> itemMap=new HashMap<>();
    for (    DBPDriverLibrary dep : dependencies) {
      TreeItem item=new TreeItem(parent,SWT.NONE);
      item.setImage(DBeaverIcons.getImage(dep.getIcon()));
      item.setText(0,dep.getDisplayName());
      item.setText(1,CommonUtils.notEmpty(dep.getVersion()));
      if (addedDeps.contains(dep.getPath())) {
        item.setForeground(getShell().getDisplay().getSystemColor(SWT.COLOR_WIDGET_DARK_SHADOW));
      }
      itemMap.put(dep,item);
    }
    for (    DBPDriverLibrary dep : dependencies) {
      TreeItem item=itemMap.get(dep);
      if (!addedDeps.contains(dep.getPath())) {
        addedDeps.add(dep.getPath());
        if (addDependencies(item,dep,depMap,addedDeps)) {
        }
      }
    }
    return true;
  }
  return false;
}
