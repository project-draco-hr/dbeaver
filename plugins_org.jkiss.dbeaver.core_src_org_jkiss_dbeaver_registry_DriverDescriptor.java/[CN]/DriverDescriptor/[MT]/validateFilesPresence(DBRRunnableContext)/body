{
  for (  DriverFileDescriptor file : files) {
    if (file.isCustom()) {
      File localFile=file.getLocalFile();
      if (localFile != null && localFile.exists()) {
        return;
      }
    }
  }
  final List<DriverFileDescriptor> downloadCandidates=new ArrayList<DriverFileDescriptor>();
  for (  DriverFileDescriptor file : files) {
    if (file.isDisabled() || !file.isDownloadable()) {
      continue;
    }
    if (!file.matchesCurrentPlatform()) {
      continue;
    }
    final File libraryFile=file.getLocalFile();
    if (libraryFile == null || !libraryFile.exists()) {
      downloadCandidates.add(file);
    }
  }
  if (!downloadCandidates.isEmpty() || !fileSources.isEmpty()) {
    UIUtils.runInUI(null,new Runnable(){
      @Override public void run(){
        DriverDownloadDialog.downloadDriverFiles(null,DriverDescriptor.this,downloadCandidates);
      }
    }
);
  }
}
