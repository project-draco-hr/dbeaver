{
  this.classLoader=null;
  if (!omitDownload) {
    validateFilesPresence(runnableContext);
  }
  List<URL> libraryURLs=new ArrayList<URL>();
  for (  DriverLibraryDescriptor file : libraries) {
    if (file.isDisabled() || file.getType() != DBPDriverLibrary.FileType.jar) {
      continue;
    }
    File localFile=file.getLocalFile();
    if (localFile == null) {
      continue;
    }
    URL url;
    try {
      url=localFile.toURI().toURL();
    }
 catch (    MalformedURLException e) {
      log.error(e);
      continue;
    }
    libraryURLs.add(url);
  }
  this.classLoader=new DriverClassLoader(this,libraryURLs.toArray(new URL[libraryURLs.size()]),getDataSourceProvider().getClass().getClassLoader());
}
