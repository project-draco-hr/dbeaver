{
  if (getCommandContext() != null && getCommandContext().getUndoCommand() != null) {
    if (!getDatabaseObject().isPersisted() && getCommandContext().getUndoCommands().size() == 1) {
      if (ConfirmationDialog.showConfirmDialog(null,DBeaverPreferences.CONFIRM_ENTITY_REJECT,ConfirmationDialog.QUESTION,getDatabaseObject().getName()) != IDialogConstants.YES_ID) {
        return;
      }
    }
    getCommandContext().undoCommand();
    firePropertyChange(IEditorPart.PROP_DIRTY);
  }
}
