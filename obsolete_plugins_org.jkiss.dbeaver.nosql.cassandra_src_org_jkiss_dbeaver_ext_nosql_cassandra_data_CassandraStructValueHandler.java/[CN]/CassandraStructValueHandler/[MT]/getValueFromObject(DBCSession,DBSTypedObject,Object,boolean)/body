{
  if (object == null) {
    return new JDBCStructDynamic(session,null);
  }
 else   if (object instanceof JDBCStructStatic) {
    return copy ? ((JDBCStructStatic)object).cloneValue(session.getProgressMonitor()) : object;
  }
 else   if (object instanceof Struct) {
    ResultSetMetaData metaData=null;
    try {
      metaData=(ResultSetMetaData)object.getClass().getMethod("getMetaData").invoke(object);
    }
 catch (    Throwable e) {
    }
    return new JDBCStructDynamic(session,(Struct)object,metaData);
  }
 else {
    throw new DBCException("Unsupported struct type: " + object.getClass().getName());
  }
}
