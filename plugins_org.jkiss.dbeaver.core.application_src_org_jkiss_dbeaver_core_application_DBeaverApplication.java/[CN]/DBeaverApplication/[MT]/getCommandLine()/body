{
  try {
    String[] args=Platform.getApplicationArgs();
    Bundle bundle=Activator.getInstance().getBundle();
    ServiceReference<EnvironmentInfo> configRef=bundle.getBundleContext().getServiceReference(EnvironmentInfo.class);
    if (configRef != null) {
      EnvironmentInfo environmentInfo=bundle.getBundleContext().getService(configRef);
      if (environmentInfo != null) {
        args=environmentInfo.getNonFrameworkArgs();
      }
    }
    return new DefaultParser().parse(DBeaverCommandLine.ALL_OPTIONS,args,false);
  }
 catch (  Exception e) {
    log.error("Error parsing command line",e);
    return null;
  }
}
