{
  try {
    DBeaverUI.runInProgressService(new DBRRunnableWithProgress(){
      @Override public void run(      DBRProgressMonitor monitor) throws InvocationTargetException, InterruptedException {
        DBPDataSource dataSource=dataSourceContainer.getDataSource();
        if (dataSource != null) {
          DBCTransactionManager txnManager=DBUtils.getTransactionManager(dataSource);
          if (txnManager != null) {
            DBCSession session=dataSource.openSession(monitor,DBCExecutionPurpose.UTIL,"Rollback transaction");
            try {
              txnManager.rollback(session,null);
            }
 catch (            DBCException e) {
              throw new InvocationTargetException(e);
            }
 finally {
              session.close();
            }
          }
        }
      }
    }
);
  }
 catch (  InvocationTargetException e) {
    UIUtils.showErrorDialog(shell,"Rollback","Error during session rollback",e);
  }
catch (  InterruptedException e) {
  }
}
