{
  IWorkbenchPart part=DBeaverUI.getActiveWorkbenchWindow().getActivePage().getActivePart();
  IStructuredSelection structuredSelection=GenerateSQLContributor.getSelectionFromPart(part);
  if (structuredSelection == null || structuredSelection.isEmpty()) {
    return new IContributionItem[0];
  }
  List<IContributionItem> menu=new ArrayList<>();
  if (structuredSelection instanceof IResultSetSelection) {
    makeResultSetContributions(menu,(IResultSetSelection)structuredSelection);
  }
 else {
    final DBSObject object=((DBNDatabaseNode)RuntimeUtils.getObjectAdapter(structuredSelection.getFirstElement(),DBNNode.class)).getObject();
    makeTableContributions(menu,object);
  }
  return menu.toArray(new IContributionItem[menu.size()]);
}
