{
  IWorkbenchPart part=DBeaverUI.getActiveWorkbenchWindow().getActivePage().getActivePart();
  IStructuredSelection structuredSelection=GenerateSQLContributor.getSelectionFromPart(part);
  if (structuredSelection == null || structuredSelection.isEmpty()) {
    return new IContributionItem[0];
  }
  List<IContributionItem> menu=new ArrayList<IContributionItem>();
  if (structuredSelection instanceof IResultSetSelection) {
    makeResultSetContributions(menu,(IResultSetSelection)structuredSelection);
  }
 else {
    final DBSTable table=(DBSTable)((DBNDatabaseNode)RuntimeUtils.getObjectAdapter(structuredSelection.getFirstElement(),DBNNode.class)).getObject();
    makeTableContributions(menu,table);
  }
  return menu.toArray(new IContributionItem[menu.size()]);
}
