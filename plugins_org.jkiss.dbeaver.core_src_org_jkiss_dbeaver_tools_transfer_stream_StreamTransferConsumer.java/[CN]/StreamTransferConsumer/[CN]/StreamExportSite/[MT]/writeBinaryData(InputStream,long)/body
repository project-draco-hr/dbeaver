{
  exportSite.flush();
switch (settings.getLobEncoding()) {
case BASE64:
{
      Base64.encode(stream,streamLength,writer);
      break;
    }
case HEX:
{
    writer.write("0x");
    byte[] buffer=new byte[5000];
    for (; ; ) {
      int count=stream.read(buffer);
      if (count <= 0) {
        break;
      }
      GeneralUtils.writeBytesAsHex(writer,buffer,0,count);
    }
    break;
  }
default :
IOUtils.copyStream(stream,outputStream,5000);
break;
}
}
