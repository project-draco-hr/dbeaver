{
  final Shell shell=DBeaverUI.getActiveWorkbenchShell();
  final DBRProcessDescriptor processDescriptor=new DBRProcessDescriptor(command,variables);
  try {
    processDescriptor.execute();
  }
 catch (  DBException e) {
    UIUtils.showErrorDialog(shell,"Execute process",processDescriptor.getName(),e);
  }
  if (command.isShowProcessPanel()) {
    shell.getDisplay().asyncExec(new Runnable(){
      @Override public void run(){
        try {
          final ShellProcessView processView=(ShellProcessView)DBeaverUI.getActiveWorkbenchWindow().getActivePage().showView(ShellProcessView.VIEW_ID,ShellProcessView.getNextId(),IWorkbenchPage.VIEW_VISIBLE);
          processView.initProcess(processDescriptor);
        }
 catch (        PartInitException e) {
          log.error(e);
        }
      }
    }
);
  }
  if (command.isWaitProcessFinish()) {
    processDescriptor.waitFor();
  }
  return processDescriptor;
}
