{
  out.write("  <DATA_RECORD>\n");
  for (int i=0; i < row.length; i++) {
    DBDAttributeBinding column=columns.get(i);
    String columnName=escapeXmlElementName(column.getAttribute().getName());
    out.write("    <" + columnName + ">");
    if (DBUtils.isNullValue(row[i])) {
      writeTextCell(null);
    }
 else     if (row[i] instanceof DBDContent) {
      DBDContent content=(DBDContent)row[i];
      try {
        DBDContentStorage cs=content.getContents(monitor);
        if (ContentUtils.isTextContent(content)) {
          writeCellValue(cs.getContentReader());
        }
 else {
          getSite().writeBinaryData(cs.getContentStream(),cs.getContentLength());
        }
      }
  finally {
        content.release();
      }
    }
 else {
      writeTextCell(super.getValueDisplayString(column,row[i]));
    }
    out.write("</" + columnName + ">\n");
  }
  out.write("  </DATA_RECORD>\n");
}
