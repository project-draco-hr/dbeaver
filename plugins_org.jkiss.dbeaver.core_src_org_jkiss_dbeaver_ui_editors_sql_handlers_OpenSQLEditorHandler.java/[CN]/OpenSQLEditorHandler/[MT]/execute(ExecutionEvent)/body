{
  DBPDataSourceContainer dataSourceContainer=getDataSourceContainer(event,false);
  IWorkbenchWindow workbenchWindow=HandlerUtil.getActiveWorkbenchWindow(event);
  IProject project=dataSourceContainer != null ? dataSourceContainer.getRegistry().getProject() : DBeaverCore.getInstance().getProjectRegistry().getActiveProject();
  try {
    final IFolder rootFolder=ResourceUtils.getScriptsFolder(project,false);
    final List<ResourceInfo> scriptTree=ResourceUtils.findScriptTree(rootFolder,dataSourceContainer);
    if (scriptTree.isEmpty()) {
      final IFile newScript=ResourceUtils.createNewScript(project,rootFolder,dataSourceContainer);
      NavigatorHandlerObjectOpen.openResource(newScript,workbenchWindow);
    }
 else {
      ScriptSelectorShell selector=new ScriptSelectorShell(workbenchWindow,dataSourceContainer,rootFolder);
      selector.show(scriptTree);
    }
  }
 catch (  CoreException e) {
    log.error(e);
  }
  return null;
}
