{
  DBPDataSourceContainer dataSourceContainer=getDataSourceContainer(event,false);
  IWorkbenchWindow workbenchWindow=HandlerUtil.getActiveWorkbenchWindow(event);
  IProject project=dataSourceContainer != null ? dataSourceContainer.getRegistry().getProject() : DBeaverCore.getInstance().getProjectRegistry().getActiveProject();
  try {
    final IFolder rootFolder=ScriptsHandlerImpl.getScriptsFolder(project,false);
    List<IFile> scriptFiles=new ArrayList<>();
    ScriptsHandlerImpl.findScriptsByDataSource(rootFolder,dataSourceContainer,scriptFiles);
    if (scriptFiles.isEmpty()) {
      final IFile newScript=ScriptsHandlerImpl.createNewScript(project,rootFolder,dataSourceContainer);
      NavigatorHandlerObjectOpen.openResource(newScript,workbenchWindow);
    }
 else {
      ScriptSelectorShell selector=new ScriptSelectorShell(workbenchWindow,scriptFiles);
      selector.show();
    }
  }
 catch (  CoreException e) {
    log.error(e);
  }
  return null;
}
