{
  if (Property.DEFAULT_LOCAL_STRING.equals(string)) {
    Class<?> propOwner=getGetter().getDeclaringClass();
    Bundle bundle=FrameworkUtil.getBundle(propOwner);
    ResourceBundle resourceBundle=Platform.getResourceBundle(bundle);
    String messageID="meta." + propOwner.getName() + "."+ BeanUtils.getPropertyNameFromGetter(getGetter().getName())+ "."+ type;
    String result;
    try {
      result=resourceBundle.getString(messageID);
    }
 catch (    Exception e) {
      if (type.equals(Property.RESOURCE_TYPE_NAME)) {
        log.warn("Resource '" + messageID + "' not found in bundle "+ bundle.getSymbolicName());
      }
      return defaultValue;
    }
    if (!result.equals(messageID)) {
      return result;
    }
    return defaultValue;
  }
  return string;
}
