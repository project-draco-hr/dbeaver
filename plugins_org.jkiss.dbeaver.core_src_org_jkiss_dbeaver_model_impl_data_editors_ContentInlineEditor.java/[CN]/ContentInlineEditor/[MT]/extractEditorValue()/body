{
  String newValue=control.getText();
  final DBDContent content=(DBDContent)valueController.getValue();
  try {
    if (isText) {
      content.updateContents(VoidProgressMonitor.INSTANCE,new StringContentStorage(newValue));
    }
 else {
      content.updateContents(VoidProgressMonitor.INSTANCE,new BytesContentStorage(newValue.getBytes(ContentUtils.getDefaultFileEncoding()),ContentUtils.getDefaultFileEncoding()));
    }
  }
 catch (  Exception e) {
    log.error(e);
  }
  return content;
}
