{
  if (filter.hasConditions()) {
    FromItem fromItem=select.getFromItem();
    String tableAlias=fromItem.getAlias() == null ? null : fromItem.getAlias().getName();
    if (tableAlias == null) {
      if (fromItem instanceof Table) {
        tableAlias=((Table)fromItem).getName();
      }
    }
    StringBuilder whereString=new StringBuilder();
    SQLUtils.appendConditionString(filter,dataSource,tableAlias,whereString,true);
    String condString=whereString.toString();
    addWhereToSelect(select,condString);
  }
  if (filter.hasOrdering()) {
    List<OrderByElement> orderByElements=select.getOrderByElements();
    if (orderByElements == null) {
      orderByElements=new ArrayList<>();
      select.setOrderByElements(orderByElements);
    }
    for (    DBDAttributeConstraint co : filter.getOrderConstraints()) {
      Expression orderExpr=getConstraintExpression(select,co);
      OrderByElement element=new OrderByElement();
      element.setExpression(orderExpr);
      if (co.isOrderDescending()) {
        element.setAsc(false);
        element.setAscDescPresent(true);
      }
      orderByElements.add(element);
    }
  }
  return true;
}
