{
  Composite rootComposite=null;
  for (Composite c=composite; c != null; c=c.getParent()) {
    if (c.getParent() instanceof CTabFolder) {
      ((CTabFolder)c.getParent()).setBorderVisible(false);
      rootComposite=c;
      break;
    }
  }
  if (rootComposite == null) {
    return;
  }
  Color bgColor=null;
  if (editor instanceof IDataSourceContainerProvider) {
    DBSDataSourceContainer container=((IDataSourceContainerProvider)editor).getDataSourceContainer();
    if (container != null) {
      bgColor=container.getConnectionInfo().getColor();
    }
  }
 else   if (editor instanceof DBPContextProvider) {
    DBCExecutionContext context=((DBPContextProvider)editor).getExecutionContext();
    bgColor=context.getDataSource().getContainer().getConnectionInfo().getColor();
  }
  if (bgColor == null) {
    rootComposite.setBackground(null);
  }
 else {
    rootComposite.setBackground(bgColor);
  }
}
