{
  Composite panel=UIUtils.createPlaceholder(parent,1);
  panel.setLayoutData(new GridData(GridData.FILL_BOTH));
  UIUtils.createControlLabel(panel,"SQL Preview");
  Composite editorPH=new Composite(panel,SWT.BORDER);
  GridData gd=new GridData(GridData.FILL_BOTH);
  gd.verticalIndent=3;
  gd.horizontalSpan=1;
  gd.minimumHeight=100;
  gd.minimumWidth=100;
  editorPH.setLayoutData(gd);
  editorPH.setLayout(new FillLayout());
  sqlViewer=new SQLEditorBase(){
    @Override public SQLDataSource getDataSource(){
      DBPDataSource dataSource=BaseSQLDialog.this.getDataSource();
      return dataSource instanceof SQLDataSource ? (SQLDataSource)dataSource : null;
    }
    @Override public DBSDataSourceContainer getDataSourceContainer(){
      return null;
    }
  }
;
  updateSQL();
  sqlViewer.createPartControl(editorPH);
  if (isWordWrap()) {
    Object text=sqlViewer.getAdapter(Control.class);
    if (text instanceof StyledText) {
      ((StyledText)text).setWordWrap(true);
    }
  }
  sqlViewer.reloadSyntaxRules();
  parent.addDisposeListener(new DisposeListener(){
    @Override public void widgetDisposed(    DisposeEvent e){
      sqlViewer.dispose();
    }
  }
);
  return panel;
}
