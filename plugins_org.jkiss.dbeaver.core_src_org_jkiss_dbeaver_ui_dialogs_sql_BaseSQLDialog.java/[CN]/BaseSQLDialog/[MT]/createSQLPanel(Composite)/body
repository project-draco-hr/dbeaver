{
  Composite editorPH=new Composite(parent,SWT.BORDER);
  GridData gd=new GridData(GridData.FILL_BOTH);
  gd.minimumHeight=100;
  gd.minimumWidth=100;
  editorPH.setLayoutData(gd);
  editorPH.setLayout(new FillLayout());
  sqlViewer=new SQLEditorBase(){
    @Override public DBPDataSource getDataSource(){
      return BaseSQLDialog.this.getDataSource();
    }
  }
;
  updateSQL();
  sqlViewer.createPartControl(editorPH);
  if (isWordWrap()) {
    Object text=sqlViewer.getAdapter(Control.class);
    if (text instanceof StyledText) {
      ((StyledText)text).setWordWrap(true);
    }
  }
  sqlViewer.reloadSyntaxRules();
  parent.addDisposeListener(new DisposeListener(){
    @Override public void widgetDisposed(    DisposeEvent e){
      sqlViewer.dispose();
    }
  }
);
  return editorPH;
}
