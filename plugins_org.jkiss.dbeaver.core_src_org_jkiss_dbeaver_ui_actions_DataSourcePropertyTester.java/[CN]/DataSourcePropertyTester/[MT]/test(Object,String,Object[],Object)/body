{
  if (!(receiver instanceof DBSDataSourceContainer)) {
    return false;
  }
  DBSDataSourceContainer dataSourceContainer=(DBSDataSourceContainer)receiver;
  if (PROP_CONNECTED.equals(property)) {
    return dataSourceContainer.isConnected() == Boolean.valueOf(String.valueOf(expectedValue));
  }
 else   if (PROP_TRANSACTIONAL.equals(property)) {
    if (!dataSourceContainer.isConnected()) {
      return Boolean.FALSE.equals(expectedValue);
    }
    return Boolean.valueOf(!dataSourceContainer.isConnectionAutoCommit()).equals(expectedValue);
  }
 else   if (PROP_TRANSACTION_ACTIVE.equals(property)) {
    if (dataSourceContainer.isConnected()) {
      DBPDataSource dataSource=dataSourceContainer.getDataSource();
      QMMSessionInfo session=DBeaverCore.getInstance().getQueryManager().getMetaCollector().getSession(dataSource);
      QMMTransactionInfo transaction=session.getTransaction();
      if (transaction != null) {
        QMMTransactionSavepointInfo savepoint=transaction.getCurrentSavepoint();
        if (savepoint != null) {
          QMMStatementExecuteInfo execute=savepoint.getLastExecute();
          if (execute != null) {
            return Boolean.TRUE.equals(expectedValue);
          }
        }
      }
    }
    return Boolean.FALSE.equals(expectedValue);
  }
  return false;
}
