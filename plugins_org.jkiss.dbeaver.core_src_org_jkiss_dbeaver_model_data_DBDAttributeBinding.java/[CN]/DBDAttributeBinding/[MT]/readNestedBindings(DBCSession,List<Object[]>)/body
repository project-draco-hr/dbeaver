{
  if (entityAttribute != null) {
    referrers=DBUtils.getAttributeReferrers(session.getProgressMonitor(),entityAttribute);
  }
  DBSAttributeBase attribute=getAttribute();
switch (attribute.getDataKind()) {
case STRUCT:
case OBJECT:
    DBSDataType dataType=DBUtils.resolveDataType(session.getProgressMonitor(),session.getDataSource(),attribute.getTypeName());
  if (dataType instanceof DBSEntity) {
    Collection<? extends DBSEntityAttribute> nestedAttributes=((DBSEntity)dataType).getAttributes(session.getProgressMonitor());
    if (nestedAttributes != null && !nestedAttributes.isEmpty()) {
      createNestedBindings(session,nestedAttributes,rows);
      return;
    }
  }
case ANY:
resolveMapsFromData(session,rows);
break;
case ARRAY:
DBSDataType collectionType=DBUtils.resolveDataType(session.getProgressMonitor(),session.getDataSource(),attribute.getTypeName());
if (collectionType != null) {
DBSDataType componentType=collectionType.getComponentType(session.getProgressMonitor());
if (componentType instanceof DBSEntity) {
Collection<? extends DBSEntityAttribute> nestedAttributes=((DBSEntity)componentType).getAttributes(session.getProgressMonitor());
if (nestedAttributes != null && !nestedAttributes.isEmpty()) {
createNestedBindings(session,nestedAttributes,rows);
return;
}
}
}
break;
}
}
