{
  if (folderPanes.length == 1) {
    return getActiveFolder(folderPanes[0]);
  }
  Control focusControl=getDisplay().getFocusControl();
  for (  FolderPane folderPane : folderPanes) {
    if (UIUtils.isParent(folderPane.editorPane,focusControl)) {
      lastActiveFolder=folderPane;
      return getActiveFolder(folderPane);
    }
  }
  if (lastActiveFolder != null) {
    return getActiveFolder(lastActiveFolder);
  }
  return null;
}
