{
  IStructuredSelection selection=(IStructuredSelection)HandlerUtil.getCurrentSelection(event);
  List<DB2Table> tables=new ArrayList<DB2Table>();
  DB2DataSource dataSource=null;
  for (Iterator iter=selection.iterator(); iter.hasNext(); ) {
    final DB2Table db2Table=RuntimeUtils.getObjectAdapter(iter.next(),DB2Table.class);
    if (db2Table != null) {
      tables.add(db2Table);
      dataSource=db2Table.getDataSource();
    }
  }
  if (!tables.isEmpty()) {
    IWorkbenchPart activePart=HandlerUtil.getActivePart(event);
    if (event.getCommand().getId().equals(CMD_REORG_ID)) {
      performReorg(activePart.getSite(),dataSource,tables);
    }
 else     if (event.getCommand().getId().equals(CMD_REORGIX_ID)) {
      performReorgIx(activePart.getSite(),dataSource,tables);
    }
 else     if (event.getCommand().getId().equals(CMD_RUNSTATS_ID)) {
      performRunstats(activePart.getSite(),dataSource,tables);
    }
  }
  return null;
}
