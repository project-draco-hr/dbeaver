{
  IStructuredSelection selection=(IStructuredSelection)HandlerUtil.getCurrentSelection(event);
  DB2Schema sourceSchema=RuntimeUtils.getObjectAdapter(selection.getFirstElement(),DB2Schema.class);
  if (sourceSchema != null) {
    if (event.getCommand().getId().equals(DROP)) {
      Shell activeShell=PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();
      NewSchemaDialog dialog=new NewSchemaDialog(activeShell);
      if (dialog.open() != IDialogConstants.OK_ID) {
        return null;
      }
      try {
        Boolean res=DB2Utils.callAdminDropSchema(VoidProgressMonitor.INSTANCE,sourceSchema.getDataSource(),sourceSchema.getName(),dialog.getErrorSchemaName(),dialog.getErrorTableName());
        sourceSchema.refreshObject(VoidProgressMonitor.INSTANCE);
      }
 catch (      SQLException e) {
        e.printStackTrace();
      }
catch (      DBException e) {
        e.printStackTrace();
      }
    }
 else {
      UIUtils.showMessageBox(HandlerUtil.getActiveShell(event),"Copy schema","Create schema '" + sourceSchema.getName() + "' copy",SWT.ICON_INFORMATION);
    }
  }
  return null;
}
