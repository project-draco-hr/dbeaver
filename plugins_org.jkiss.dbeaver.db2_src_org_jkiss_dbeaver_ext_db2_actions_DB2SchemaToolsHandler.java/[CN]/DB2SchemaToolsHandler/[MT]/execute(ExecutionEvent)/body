{
  IStructuredSelection selection=(IStructuredSelection)HandlerUtil.getCurrentSelection(event);
  DB2Schema sourceSchema=RuntimeUtils.getObjectAdapter(selection.getFirstElement(),DB2Schema.class);
  if (sourceSchema != null) {
    Shell activeShell=PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();
    NewSchemaDialog dialog=new NewSchemaDialog(activeShell);
    if (dialog.open() != IDialogConstants.OK_ID) {
      return null;
    }
    try {
      Boolean res;
      if (event.getCommand().getId().equals(DROP)) {
        res=DB2Utils.callAdminDropSchema(VoidProgressMonitor.INSTANCE,sourceSchema.getDataSource(),sourceSchema.getName(),dialog.getErrorSchemaName(),dialog.getErrorTableName());
      }
 else {
      }
      sourceSchema.refreshObject(VoidProgressMonitor.INSTANCE);
    }
 catch (    SQLException e) {
      e.printStackTrace();
    }
catch (    DBException e) {
      e.printStackTrace();
    }
  }
  return null;
}
