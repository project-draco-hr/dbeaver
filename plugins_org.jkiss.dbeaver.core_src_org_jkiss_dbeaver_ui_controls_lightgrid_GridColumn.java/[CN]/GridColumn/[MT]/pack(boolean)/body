{
  int newWidth=computeHeaderWidth();
  if (CommonUtils.isEmpty(children)) {
    int topIndex=grid.getTopIndex();
    int bottomIndex=grid.getBottomIndex();
    if (topIndex >= 0 && bottomIndex >= topIndex) {
      int itemCount=grid.getItemCount();
      GridCell cell=new GridCell(element,element);
      for (int i=topIndex; i <= bottomIndex && i < itemCount; i++) {
        cell.row=grid.getRowElement(i);
        newWidth=Math.max(newWidth,computeCellWidth(cell));
      }
    }
  }
 else {
    int childrenWidth=0;
    for (    GridColumn child : children) {
      child.pack(reflect);
      childrenWidth+=child.getWidth();
    }
    newWidth=Math.max(newWidth,childrenWidth);
  }
  if (reflect) {
    setWidth(newWidth,false);
  }
 else {
    this.width=newWidth;
  }
}
