{
  List<DBEPersistAction> actions=new ArrayList<>();
  try {
    String header=pack.getScriptSourceText(VoidProgressMonitor.INSTANCE);
    if (!CommonUtils.isEmpty(header)) {
      actions.add(new SQLDatabasePersistAction("Create package header",header));
    }
    String body=pack.getSourceDefinition(VoidProgressMonitor.INSTANCE);
    if (!CommonUtils.isEmpty(body)) {
      actions.add(new SQLDatabasePersistAction("Create package body",body));
    }
 else {
      actions.add(new SQLDatabasePersistAction("Drop package header","DROP PACKAGE BODY " + pack.getFullQualifiedName(),DBEPersistAction.ActionType.OPTIONAL));
    }
  }
 catch (  DBException e) {
    log.warn(e);
  }
  OracleUtils.addSchemaChangeActions(actions,pack);
  return actions.toArray(new DBEPersistAction[actions.size()]);
}
