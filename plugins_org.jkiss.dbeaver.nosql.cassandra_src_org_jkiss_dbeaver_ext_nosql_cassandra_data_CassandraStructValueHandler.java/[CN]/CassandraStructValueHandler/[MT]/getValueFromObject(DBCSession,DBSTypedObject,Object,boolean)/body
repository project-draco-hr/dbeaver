{
  if (object == null) {
    return new JDBCStruct(session,makeEmptyType(session),null);
  }
 else   if (object instanceof JDBCStruct) {
    return copy ? ((JDBCStruct)object).cloneValue(session.getProgressMonitor()) : object;
  }
 else   if (object instanceof Struct) {
    ResultSetMetaData metaData=null;
    try {
      metaData=(ResultSetMetaData)object.getClass().getMethod("getMetaData").invoke(object);
    }
 catch (    Throwable e) {
    }
    return new JDBCStruct(session,makeEmptyType(session),(Struct)object,metaData);
  }
 else {
    throw new DBCException("Unsupported struct type: " + object.getClass().getName());
  }
}
