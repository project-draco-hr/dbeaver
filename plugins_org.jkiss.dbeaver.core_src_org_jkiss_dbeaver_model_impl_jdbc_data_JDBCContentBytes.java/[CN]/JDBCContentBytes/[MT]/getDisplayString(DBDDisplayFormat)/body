{
  if (data == null) {
    return null;
  }
  DBDBinaryFormatter formatter=DBUtils.getBinaryPresentation(dataSource);
  int maxLength=dataSource.getContainer().getPreferenceStore().getInt(DBeaverPreferences.RESULT_SET_BINARY_STRING_MAX_LEN);
  int length=data.length;
  if (format == DBDDisplayFormat.UI && length > maxLength) {
    length=maxLength;
  }
  String string=formatter.toString(data,0,length);
  if (length == data.length) {
    return string;
  }
  StringBuilder strValue=new StringBuilder(length + 10);
  strValue.append(string).append("...").append(" [").append(data.length).append("]");
  return strValue.toString();
}
