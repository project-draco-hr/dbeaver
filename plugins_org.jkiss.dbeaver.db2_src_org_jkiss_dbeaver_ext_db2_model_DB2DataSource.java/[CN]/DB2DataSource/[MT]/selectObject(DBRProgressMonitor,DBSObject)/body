{
  final DB2Schema oldSelectedEntity=getSelectedObject();
  if (!(object instanceof DB2Schema)) {
    throw new IllegalArgumentException("Invalid object type: " + object);
  }
  activeSchemaName=object.getName();
  JDBCSession session=openSession(monitor,DBCExecutionPurpose.UTIL,"Set active schema");
  try {
    JDBCUtils.executeSQL(session,String.format(SET_CURRENT_SCHEMA,activeSchemaName));
  }
 catch (  SQLException e) {
    throw new DBException(e,this);
  }
 finally {
    session.close();
  }
  if (oldSelectedEntity != null) {
    DBUtils.fireObjectSelect(oldSelectedEntity,false);
  }
  if (this.activeSchemaName != null) {
    DBUtils.fireObjectSelect(object,true);
  }
}
