{
  if (value instanceof JDBCArray) {
    JDBCArray jdbcArray=(JDBCArray)value;
    String elementType=jdbcArray.getComponentType().getTypeName();
    Array arrayVal=statement.getConnection().createArrayOf(elementType,(Object[])jdbcArray.getRawValue());
    statement.setArray(paramIndex,arrayVal);
  }
 else {
    throw new DBCException("Unsupported value type: " + value);
  }
}
