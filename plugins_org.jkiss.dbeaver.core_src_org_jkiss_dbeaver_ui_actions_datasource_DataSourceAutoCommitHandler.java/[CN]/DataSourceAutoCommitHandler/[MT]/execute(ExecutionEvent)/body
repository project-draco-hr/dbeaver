{
  DBCExecutionContext context=getExecutionContext(event,true);
  if (context != null) {
    DBCTransactionManager txnManager=DBUtils.getTransactionManager(context);
    if (txnManager != null) {
      try {
        DBSDataSourceContainer container=context.getDataSource().getContainer();
        boolean newAutocommit=!container.isDefaultAutoCommit();
        if (context.isConnected()) {
          newAutocommit=!txnManager.isAutoCommit();
        }
        container.setDefaultAutoCommit(newAutocommit,context,true);
        container.persistConfiguration();
      }
 catch (      DBException e) {
        UIUtils.showErrorDialog(null,"Auto-Commit","Error while toggle auto-commit",e);
      }
    }
  }
  return null;
}
