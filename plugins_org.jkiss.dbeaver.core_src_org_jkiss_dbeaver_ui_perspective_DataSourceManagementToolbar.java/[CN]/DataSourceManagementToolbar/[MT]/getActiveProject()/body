{
  final IAdaptable activeObject=getActiveObject();
  if (activeObject instanceof IEditorInput) {
    final IFile file=ContentUtils.getFileFromEditorInput((IEditorInput)activeObject);
    if (file != null) {
      if (file.getProject() != DBeaverCore.getInstance().getTempProject()) {
        return file.getProject();
      }
    }
  }
  return DBeaverCore.getInstance().getProjectRegistry().getActiveProject();
}
