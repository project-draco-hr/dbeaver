{
  final DBSDataSourceContainer dataSourceContainer=getDataSourceContainer();
  if (dataSourceContainer != null) {
    return dataSourceContainer.getRegistry().getDataSources();
  }
 else {
    final IProject project=getActiveProject();
    if (project != null) {
      DataSourceRegistry dataSourceRegistry=DBeaverCore.getInstance().getProjectRegistry().getDataSourceRegistry(project);
      return dataSourceRegistry == null ? null : dataSourceRegistry.getDataSources();
    }
  }
  return Collections.emptyList();
}
