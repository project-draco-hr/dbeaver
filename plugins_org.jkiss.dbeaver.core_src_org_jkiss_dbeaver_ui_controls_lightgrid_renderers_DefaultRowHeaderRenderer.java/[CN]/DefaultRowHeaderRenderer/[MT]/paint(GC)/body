{
  String text=getHeaderText();
  gc.setFont(getDisplay().getSystemFont());
  Color background=getHeaderBackground();
  if (background == null) {
    background=getDisplay().getSystemColor(SWT.COLOR_WIDGET_BACKGROUND);
  }
  gc.setBackground(background);
  if (isSelected()) {
    gc.setBackground(grid.getCellHeaderSelectionBackground());
  }
  gc.fillRectangle(bounds.x,bounds.y,bounds.width,bounds.height + 1);
{
    gc.setForeground(getDisplay().getSystemColor(SWT.COLOR_WIDGET_NORMAL_SHADOW));
    gc.drawLine(bounds.x + bounds.width - 1,bounds.y,bounds.x + bounds.width - 1,bounds.y + bounds.height - 1);
    gc.drawLine(bounds.x,bounds.y + bounds.height - 1,bounds.x + bounds.width - 1,bounds.y + bounds.height - 1);
  }
  int x=leftMargin;
  Image image=getHeaderImage();
  if (image != null) {
    gc.drawImage(image,x,bounds.y + (bounds.height - image.getBounds().height) / 2);
    x+=image.getBounds().width + 5;
  }
  int width=bounds.width - x;
  width-=rightMargin;
  Color foreground=getHeaderForeground();
  if (foreground == null) {
    foreground=getDisplay().getSystemColor(SWT.COLOR_WIDGET_FOREGROUND);
  }
  gc.setForeground(foreground);
  int y=bounds.y;
  int selectionOffset=0;
  y+=(bounds.height - gc.stringExtent(text).y) / 2;
  gc.drawString(org.jkiss.dbeaver.ui.TextUtils.getShortString(gc,text,width),bounds.x + x + selectionOffset,y + selectionOffset,true);
}
