{
  List<NavigatorTabInfo> tabs=new ArrayList<NavigatorTabInfo>();
  if (node instanceof DBNDataSource && !((DBNDataSource)node).getDataSourceContainer().isConnected()) {
  }
 else   if (node != null) {
    try {
      List<? extends DBNNode> children=node.getChildren(monitor);
      if (children != null) {
        for (        DBNNode child : children) {
          if (child instanceof DBNDatabaseFolder) {
            monitor.subTask(CoreMessages.ui_properties_task_add_folder + child.getNodeName() + "'");
            tabs.add(new NavigatorTabInfo((DBNDatabaseFolder)child));
          }
        }
      }
    }
 catch (    DBException e) {
      log.error("Error initializing property tabs",e);
    }
    if (node instanceof DBNDatabaseNode) {
      DBNDatabaseNode databaseNode=(DBNDatabaseNode)node;
      List<DBXTreeNode> subNodes=databaseNode.getMeta().getChildren(databaseNode);
      if (subNodes != null) {
        for (        DBXTreeNode child : subNodes) {
          if (child instanceof DBXTreeItem) {
            try {
              if (!((DBXTreeItem)child).isOptional() || databaseNode.hasChildren(monitor,child)) {
                monitor.subTask(CoreMessages.ui_properties_task_add_node + node.getNodeName() + "'");
                tabs.add(new NavigatorTabInfo((DBNDatabaseNode)node,child));
              }
            }
 catch (            DBException e) {
              log.debug("Can't add child items tab",e);
            }
          }
        }
      }
    }
  }
  return tabs;
}
