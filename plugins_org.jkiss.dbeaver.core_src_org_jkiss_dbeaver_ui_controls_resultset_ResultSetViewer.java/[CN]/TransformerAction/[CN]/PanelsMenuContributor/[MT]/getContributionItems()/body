{
  final ResultSetViewer rsv=(ResultSetViewer)ResultSetCommandHandler.getActiveResultSet(DBeaverUI.getActiveWorkbenchWindow().getActivePage().getActivePart());
  if (rsv == null) {
    return new IContributionItem[0];
  }
  List<IContributionItem> items=new ArrayList<>();
  for (  final ResultSetPanelDescriptor panel : rsv.availablePanels) {
    ActionContributionItem item=new ActionContributionItem(new Action(panel.getId(),Action.AS_CHECK_BOX){
      @Override public boolean isChecked(){
        return rsv.activePanels.containsKey(panel.getId());
      }
      @Override public void run(){
        rsv.activatePanel(panel.getId(),true);
      }
    }
);
    items.add(item);
  }
  return items.toArray(new IContributionItem[items.size()]);
}
