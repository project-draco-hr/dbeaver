{
  RowData row=(RowData)(!recordMode ? cell.row : cell.col);
  DBDAttributeBinding attribute=(DBDAttributeBinding)(!recordMode ? cell.col : cell.row);
  boolean odd=row.visualNumber % 2 == 0;
  if (row.state == RowData.STATE_ADDED) {
    return backgroundAdded;
  }
  if (row.state == RowData.STATE_REMOVED) {
    return backgroundDeleted;
  }
  if (row.changedValues != null) {
    if (row.changedValues[attribute.getTopParent().getAttributeIndex()]) {
      return backgroundModified;
    }
  }
  if ((attribute.getValueHandler().getFeatures() & DBDValueHandler.FEATURE_READ_ONLY) != 0) {
    return backgroundReadOnly;
  }
  if (!recordMode && odd && showOddRows) {
    return backgroundOdd;
  }
  return null;
}
