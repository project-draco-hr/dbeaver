{
  RowData row=(RowData)(!recordMode ? cell.row : cell.col);
  DBDAttributeBinding attribute=(DBDAttributeBinding)(!recordMode ? cell.col : cell.row);
  boolean odd=row.visualNumber % 2 == 0;
  if (row.state == RowData.STATE_ADDED) {
    return backgroundAdded;
  }
  if (row.state == RowData.STATE_REMOVED) {
    return backgroundDeleted;
  }
  if (row.changes != null && row.changes.containsKey(attribute)) {
    return backgroundModified;
  }
  if ((attribute.getValueHandler().getFeatures() & DBDValueHandler.FEATURE_COMPOSITE) != 0) {
    return backgroundReadOnly;
  }
  if (!recordMode && odd && showOddRows) {
    return backgroundOdd;
  }
  return null;
}
