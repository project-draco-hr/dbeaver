{
  if (viewerPanel.isDisposed()) {
    return;
  }
  boolean metaChanged=model.isMetadataChanged();
  this.curRow=null;
  this.model.setData(rows);
  this.curRow=(this.model.getRowCount() > 0 ? this.model.getRow(0) : null);
  if (metaChanged) {
    if (getPreferenceStore().getBoolean(DBeaverPreferences.RESULT_SET_AUTO_SWITCH_MODE)) {
      boolean newRecordMode=(rows.size() == 1);
      if (newRecordMode != recordMode) {
        toggleMode();
      }
    }
  }
  this.activePresentation.refreshData(metaChanged);
  this.redrawData(true);
  this.updateEditControls();
}
