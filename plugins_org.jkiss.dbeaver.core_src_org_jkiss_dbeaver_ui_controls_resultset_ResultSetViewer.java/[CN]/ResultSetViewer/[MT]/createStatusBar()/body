{
  UIUtils.createHorizontalLine(viewerPanel);
  Composite statusBar=new Composite(viewerPanel,SWT.NONE);
  GridData gd=new GridData(GridData.FILL_HORIZONTAL);
  statusBar.setLayoutData(gd);
  GridLayout gl=new GridLayout(4,false);
  gl.marginWidth=0;
  gl.marginHeight=0;
  statusBar.setLayout(gl);
  statusLabel=new Text(statusBar,SWT.READ_ONLY);
  gd=new GridData(GridData.FILL_HORIZONTAL);
  statusLabel.setLayoutData(gd);
  statusLabel.addMouseListener(new MouseAdapter(){
    @Override public void mouseDoubleClick(    MouseEvent e){
      EditTextDialog.showText(site.getShell(),CoreMessages.controls_resultset_viewer_dialog_status_title,statusLabel.getText());
    }
  }
);
  toolBarManager=new ToolBarManager(SWT.FLAT | SWT.HORIZONTAL);
  presentationSwitchCombo=new PresentationSwitchCombo();
  presentationSwitchCombo.createControl(statusBar);
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_APPLY_CHANGES));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_REJECT_CHANGES));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_GENERATE_SCRIPT));
  toolBarManager.add(new Separator());
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_EDIT));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_ADD));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_COPY));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_DELETE));
  toolBarManager.add(new Separator());
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_FIRST));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_PREVIOUS));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_NEXT));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_ROW_LAST));
  toolBarManager.add(new Separator());
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_FETCH_PAGE));
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_FETCH_ALL));
  toolBarManager.add(new Separator());
  toolBarManager.add(new Separator());
  toolBarManager.add(ActionUtils.makeCommandContribution(site,ResultSetCommandHandler.CMD_TOGGLE_MODE,CommandContributionItem.STYLE_CHECK));
  CommandContributionItem panelsAction=new CommandContributionItem(new CommandContributionItemParameter(site,"org.jkiss.dbeaver.core.resultset.panels",ResultSetCommandHandler.CMD_TOGGLE_PANELS,CommandContributionItem.STYLE_PULLDOWN));
  toolBarManager.add(panelsAction);
  toolBarManager.add(new ConfigAction());
  toolBarManager.createControl(statusBar);
}
