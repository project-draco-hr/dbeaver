{
  if (!singleSourceCells) {
    UIUtils.showErrorDialog(getControl().getShell(),"Apply changes error","Can't save data for result set from multiple sources");
    return;
  }
  try {
    if (!checkVirtualEntityIdentifier()) {
      return;
    }
    if (getVirtualEntityIdentifier() != null) {
      RunnableWithResult<Boolean> confirmer=new RunnableWithResult<Boolean>(){
        @Override public void run(){
          ConfirmVirtualKeyUsageDialog dialog=new ConfirmVirtualKeyUsageDialog(ResultSetViewer.this);
          result=(dialog.open() == IDialogConstants.OK_ID);
        }
      }
;
      UIUtils.runInUI(getControl().getShell(),confirmer);
      if (!confirmer.getResult()) {
        return;
      }
    }
    new DataUpdater().applyChanges(monitor,listener);
  }
 catch (  DBException e) {
    UIUtils.showErrorDialog(getControl().getShell(),"Apply changes error","Error saving changes in database",e);
  }
}
