{
  IConfigurationElement[] menus=element.getChildren(IWorkbenchRegistryConstants.TAG_MENU);
  if (menus.length == 0) {
    return;
  }
  for (  IConfigurationElement menu : menus) {
    MMenuContribution menuContribution=MenuFactoryImpl.eINSTANCE.createMenuContribution();
    String idContrib=MenuHelper.getId(menu);
    if (idContrib != null && idContrib.length() > 0) {
      menuContribution.setElementId(idContrib);
    }
    menuContribution.setParentId(idContrib);
    menuContribution.setPositionInParent("after=additions");
    menuContribution.getTags().add("scheme:" + location.getScheme());
    menuContribution.getTags().add(filter);
    menuContribution.setVisibleWhen(MenuHelper.getVisibleWhen(menu));
    addMenuChildren(menuContribution,menu,filter);
    menuContributions.add(menuContribution);
    processMenuChildren(menuContributions,menu,filter);
  }
}
