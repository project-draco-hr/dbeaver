{
  try {
    Method getFileMethod=editorInput.getClass().getMethod("getFile");
    if (IFile.class.isAssignableFrom(getFileMethod.getReturnType())) {
      return IFile.class.cast(getFileMethod.invoke(editorInput));
    }
  }
 catch (  Exception e) {
    log.debug("Error getting file from editor input with reflection",e);
  }
  if (editorInput instanceof IPathEditorInput && ((IPathEditorInput)editorInput).getPath() != null) {
    return ContentUtils.convertPathToWorkspaceFile(((IPathEditorInput)editorInput).getPath());
  }
 else {
    return null;
  }
}
