{
  if (parent instanceof DBDStructure) {
    DBDStructure structure=(DBDStructure)parent;
    try {
      Collection<? extends DBSAttributeBase> attributes=structure.getAttributes();
      Object[] children=new Object[attributes.size()];
      int index=0;
      for (      DBSAttributeBase attr : attributes) {
        Object value=structure.getAttributeValue(attr);
        children[index++]=new FieldInfo(structure.getStructType().getDataSource(),attr,value);
      }
      return children;
    }
 catch (    DBException e) {
      log.error("Error getting meta data",e);
    }
  }
 else   if (parent instanceof FieldInfo) {
    if (((FieldInfo)parent).value instanceof DBDStructure) {
      return getChildren(((FieldInfo)parent).value);
    }
  }
  return new Object[0];
}
