{
  if (clientBody == null) {
    StringBuilder cb=new StringBuilder(getBody().length() + 100);
    cb.append("CREATE ").append(procedureType).append(' ').append(getFullQualifiedName()).append(" (");
    int colIndex=0;
    for (    PostgreProcedureParameter column : CommonUtils.safeCollection(getParameters(monitor))) {
      if (column.getParameterKind() == DBSProcedureParameterKind.RETURN) {
        continue;
      }
      if (colIndex > 0) {
        cb.append(", ");
      }
      if (getProcedureType() == DBSProcedureType.PROCEDURE) {
        cb.append(column.getParameterKind()).append(' ');
      }
      cb.append(column.getName()).append(' ');
      appendParameterType(cb,column);
      colIndex++;
    }
    cb.append(")").append(GeneralUtils.getDefaultLineSeparator());
    for (    PostgreProcedureParameter column : CommonUtils.safeCollection(getParameters(monitor))) {
      if (column.getParameterKind() == DBSProcedureParameterKind.RETURN) {
        cb.append("RETURNS ");
        appendParameterType(cb,column);
        cb.append(GeneralUtils.getDefaultLineSeparator());
      }
    }
    if (deterministic) {
      cb.append("DETERMINISTIC").append(GeneralUtils.getDefaultLineSeparator());
    }
    cb.append(getBody());
    clientBody=cb.toString();
  }
  return clientBody;
}
