{
  itemHeight=fontMetrics.getHeight() + 3;
  int colHeaderHeight=0;
  for (  GridColumn column : topColumns) {
    colHeaderHeight=Math.max(column.getHeaderHeight(true),colHeaderHeight);
  }
  headerHeight=colHeaderHeight;
  rowHeaderWidth=DEFAULT_ROW_HEADER_WIDTH;
  for (  Object row : rowElements) {
    GridNode nr=rowNodes.get(row);
    int width=rowHeaderRenderer.computeHeaderWidth(row,nr == null ? 0 : nr.level);
    rowHeaderWidth=Math.max(rowHeaderWidth,width);
  }
  if (rowHeaderWidth > MAX_ROW_HEADER_WIDTH) {
    rowHeaderWidth=MAX_ROW_HEADER_WIDTH;
  }
}
