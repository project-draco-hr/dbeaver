{
  if (selected) {
    gc.setBackground(getDisplay().getSystemColor(SWT.COLOR_LIST_SELECTION));
    gc.setForeground(getDisplay().getSystemColor(SWT.COLOR_LIST_SELECTION_TEXT));
  }
 else {
    if (isEnabled()) {
      Color background=getBackground();
      if (background != null) {
        gc.setBackground(background);
      }
    }
 else {
      gc.setBackground(getDisplay().getSystemColor(SWT.COLOR_WIDGET_BACKGROUND));
    }
    gc.setForeground(getForeground());
  }
  gc.fillRectangle(x,y,width + 1,height);
  if (isLinesVisible()) {
    gc.setForeground(getLineColor());
    gc.drawLine(x,y + height,x + width,y + height);
    gc.drawLine(x + width - 1,y,x + width - 1,y + height);
  }
}
