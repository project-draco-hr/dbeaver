{
  if (refObject == null) {
    try {
      context.getProgressMonitor().beginTask("Retrieve references object",3);
      try {
        context.getProgressMonitor().worked(1);
        Object refValue=value.getObject();
        context.getProgressMonitor().worked(1);
        DBDValueHandler valueHandler=DBUtils.findValueHandler(context,type);
        refObject=valueHandler.getValueFromObject(context,type,refValue,false);
        context.getProgressMonitor().worked(1);
      }
  finally {
        context.getProgressMonitor().done();
      }
    }
 catch (    SQLException e) {
      throw new DBCException("Can't obtain object reference");
    }
  }
  return refObject;
}
