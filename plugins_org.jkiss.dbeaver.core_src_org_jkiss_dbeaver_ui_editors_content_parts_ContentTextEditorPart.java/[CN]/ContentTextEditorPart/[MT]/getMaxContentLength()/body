{
  if (contentEditor instanceof DBPContextProvider) {
    DBCExecutionContext context=((DBPContextProvider)contentEditor).getExecutionContext();
    if (context != null) {
      return context.getDataSource().getContainer().getPreferenceStore().getInt(DBeaverPreferences.RS_EDIT_MAX_TEXT_SIZE);
    }
  }
  return 10 * 1024 * 1024;
}
