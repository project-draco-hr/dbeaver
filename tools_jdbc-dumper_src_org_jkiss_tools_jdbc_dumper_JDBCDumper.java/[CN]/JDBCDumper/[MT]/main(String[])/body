{
  if (args.length < 3) {
    System.out.println("Usage: JDBCDumper action driver-class jdbc-url [user] [password]");
    System.exit(1);
  }
  String action=args[0];
  String className=args[1];
  String url=args[2];
  String user=args.length >= 4 ? args[3] : null;
  String password=args.length >= 5 ? args[4] : null;
  Class.forName(className);
  Connection connection=DriverManager.getConnection(url,user,password);
  try {
    if ("plain".equals(action)) {
      dumpMetaDataPlain(connection.getMetaData());
    }
 else     if ("tree".equals(action)) {
      dumpMetaDataTree(connection.getMetaData());
    }
  }
  finally {
    connection.close();
  }
}
