{
  Text editor=(Text)tableEditor.getEditor();
  if (editor != null && editor.isDisposed()) {
    editor=null;
  }
  if (e.detail == SWT.TRAVERSE_RETURN) {
    if (editor != null) {
      tableEditor.getItem().setText(columnIndex,editor.getText());
      controller.closeEditor(tableEditor);
    }
 else {
      TableItem[] selection=table.getSelection();
      if (selection != null && selection.length >= 1) {
        controller.showEditor(selection[0]);
      }
    }
    e.doit=false;
    e.detail=SWT.TRAVERSE_NONE;
  }
 else   if (e.detail == SWT.TRAVERSE_ESCAPE && editor != null) {
    controller.closeEditor(tableEditor);
    e.doit=false;
    e.detail=SWT.TRAVERSE_NONE;
  }
}
