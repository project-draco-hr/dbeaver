{
  final String timeText=timeEditor.getText();
  try {
    return (Date)formatter.parseValue(timeText,Date.class);
  }
 catch (  final Exception e) {
    timeEditor.getDisplay().asyncExec(new Runnable(){
      @Override public void run(){
        UIUtils.showErrorDialog(null,"Bad time","Bad time value: [" + timeText + "]",e);
      }
    }
);
    return new Date();
  }
}
