{
  IWorkbenchPart activePart=DBeaverUI.getActiveWorkbenchWindow().getActivePage().getActivePart();
  ISelection selection=activePart.getSite().getSelectionProvider().getSelection();
  if (!(selection instanceof IStructuredSelection)) {
    return;
  }
  DBSObject selectedObject=NavigatorUtils.getSelectedObject((IStructuredSelection)selection);
  if (selectedObject != null) {
    List<ToolDescriptor> tools=ToolsRegistry.getInstance().getTools((IStructuredSelection)selection);
    fillToolsMenu(menuItems,tools,selection);
  }
}
