{
  IWorkbenchPart activePart=DBeaverUI.getActiveWorkbenchWindow().getActivePage().getActivePart();
  ISelection selection=activePart.getSite().getSelectionProvider().getSelection();
  if (!(selection instanceof IStructuredSelection)) {
    return;
  }
  DBSObject selectedObject=NavigatorUtils.getSelectedObject((IStructuredSelection)selection);
  if (selectedObject != null && selectedObject.getDataSource() != null) {
    DriverDescriptor driver=(DriverDescriptor)selectedObject.getDataSource().getContainer().getDriver();
    List<ToolDescriptor> tools=driver.getProviderDescriptor().getTools((IStructuredSelection)selection);
    fillToolsMenu(menuItems,tools,selection);
  }
}
