{
  boolean hasTools=false;
  if (!CommonUtils.isEmpty(tools)) {
    IWorkbenchWindow workbenchWindow=DBeaverUI.getActiveWorkbenchWindow();
    if (workbenchWindow != null && workbenchWindow.getActivePage() != null) {
      IWorkbenchPart activePart=workbenchWindow.getActivePage().getActivePart();
      if (activePart != null) {
        hasTools=true;
        for (        DataSourceToolDescriptor tool : tools) {
          IAction action=ActionUtils.makeAction(new NavigatorActionExecuteTool(workbenchWindow,tool),activePart,selection,tool.getLabel(),tool.getIcon() == null ? null : ImageDescriptor.createFromImage(tool.getIcon()),tool.getDescription());
          menuItems.add(new ActionContributionItem(action));
        }
      }
    }
  }
  if (!hasTools) {
    menuItems.add(new ActionContributionItem(new EmptyListAction()));
  }
}
