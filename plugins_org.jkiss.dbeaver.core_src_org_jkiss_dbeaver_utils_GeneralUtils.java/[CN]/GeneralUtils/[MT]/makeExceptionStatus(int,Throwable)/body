{
  Throwable cause=ex.getCause();
  if (cause == null) {
    return new Status(severity,DBeaverCore.getCorePluginID(),getExceptionMessage(ex),ex);
  }
 else {
    if (ex instanceof DBException && CommonUtils.equalObjects(ex.getMessage(),cause.getMessage())) {
      return makeExceptionStatus(cause);
    }
    return new MultiStatus(DBeaverCore.getCorePluginID(),0,new IStatus[]{makeExceptionStatus(severity,cause)},getExceptionMessage(ex),ex);
  }
}
