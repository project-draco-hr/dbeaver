{
  try {
    String variable;
    String type=resolver.getType();
    if (type.equals("dollar"))     variable="$$";
 else     if (fIncludeBrace)     variable="${" + type + '}';
 else     variable=type;
    document.replace(offset,length,variable);
    fSelection=new Point(offset + variable.length(),0);
  }
 catch (  BadLocationException e) {
    UIUtils.showErrorDialog(viewer.getTextWidget().getShell(),"Variable proposal","Variable proposal failed",e);
  }
}
