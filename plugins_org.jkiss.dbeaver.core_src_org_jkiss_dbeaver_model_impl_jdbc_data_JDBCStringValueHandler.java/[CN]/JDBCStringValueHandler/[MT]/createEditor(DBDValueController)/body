{
switch (controller.getEditType()) {
case INLINE:
case PANEL:
    return new ValueEditor<Text>(controller){
      @Override protected Text createControl(      Composite editPlaceholder){
        final boolean inline=valueController.getEditType() == DBDValueController.EditType.INLINE;
        final Text editor=new Text(valueController.getEditPlaceholder(),SWT.BORDER | (inline ? SWT.NONE : SWT.MULTI | SWT.WRAP | SWT.V_SCROLL));
        editor.setEditable(!valueController.isReadOnly());
        editor.setTextLimit(MAX_STRING_LENGTH);
        editor.setEditable(!valueController.isReadOnly());
        return editor;
      }
      @Override public void refreshValue(){
        control.setText(CommonUtils.toString(valueController.getValue()));
        if (valueController.getEditType() == DBDValueController.EditType.INLINE) {
          control.selectAll();
        }
      }
      @Override public Object extractValue(      DBRProgressMonitor monitor){
        return control.getText();
      }
    }
;
case EDITOR:
  return new TextViewDialog(controller);
default :
return null;
}
}
