{
  final DBPPreferenceStore store=getPreferenceStore();
  if (store == null)   return;
  updateForegroundColor(fDelegate);
  updateBackgroundColor(fDelegate);
  updateLineNumbersVisibility(fDelegate);
  fDelegate.redraw();
  fDispatcher=new PropertyEventDispatcher(store);
  fDispatcher.addPropertyChangeListener(LINE_NUMBER_KEY,new DBPPreferenceListener(){
    @Override public void preferenceChange(    PreferenceChangeEvent event){
      updateLineNumbersVisibility(fDelegate);
    }
  }
);
}
