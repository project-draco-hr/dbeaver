{
  if (forceUpdate) {
    MavenRegistry.getInstance().resetArtifactInfo(reference);
  }
  MavenArtifact artifact=MavenRegistry.getInstance().findArtifact(reference);
  if (artifact == null) {
    throw new IOException("Maven artifact '" + path + "' not found");
  }
  if (!forceUpdate) {
    MavenLocalVersion localVersion=artifact.getActiveLocalVersion();
    if (localVersion != null) {
      return localVersion;
    }
  }
  return artifact.resolveVersion(monitor,reference.getVersion(),true);
}
