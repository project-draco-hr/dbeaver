{
  boolean hasConnections=false;
synchronized (dataSources) {
    for (    DataSourceDescriptor dataSource : dataSources) {
      if (dataSource.isConnected()) {
        hasConnections=true;
        break;
      }
    }
  }
  if (!hasConnections) {
    return true;
  }
  try {
    DisconnectTask disconnectTask=new DisconnectTask();
    DBeaverCore.getInstance().runInProgressService(disconnectTask);
    return disconnectTask.disconnected;
  }
 catch (  InvocationTargetException e) {
    log.error("Can't close opened connections",e.getTargetException());
  }
catch (  InterruptedException e) {
  }
  return true;
}
