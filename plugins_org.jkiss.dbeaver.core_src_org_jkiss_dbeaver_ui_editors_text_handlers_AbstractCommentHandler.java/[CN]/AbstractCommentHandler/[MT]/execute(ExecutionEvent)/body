{
  BaseTextEditor textEditor=getEditor(event);
  if (textEditor != null) {
    IDocument document=textEditor.getDocumentProvider().getDocument(textEditor.getEditorInput());
    if (document != null) {
      ITextSelection textSelection=getSelection(textEditor);
      if (!textSelection.isEmpty()) {
        try {
          processAction(textEditor,document,textSelection);
        }
 catch (        BadLocationException e) {
          log.warn(e);
        }
      }
    }
  }
  return null;
}
