{
  super.setActiveEditor(part);
  if (activeEditor != null) {
    activeEditor.removePropertyListener(dirtyListener);
  }
  this.activeEditor=(ContentEditor)part;
  this.activeEditor.addPropertyListener(dirtyListener);
  if (this.activeEditor != null) {
    if (encodingCombo != null && !encodingCombo.isDisposed()) {
      try {
        String curCharset=this.activeEditor.getEditorInput().getFile().getCharset();
        int charsetCount=encodingCombo.getItemCount();
        for (int i=0; i < charsetCount; i++) {
          if (encodingCombo.getItem(i).equals(curCharset)) {
            encodingCombo.select(i);
            break;
          }
        }
      }
 catch (      CoreException e) {
        log.error(e);
      }
    }
    applyAction.setEnabled(activeEditor.isDirty());
    loadAction.setEnabled(!activeEditor.getEditorInput().isReadOnly());
  }
}
