{
  if (object != null && object.getClass().getName().equals(PostgreConstants.PG_OBJECT_CLASS)) {
    PostgreDataType itemType=null;
    if (type instanceof PostgreAttribute) {
      final PostgreDataType arrayType=((PostgreAttribute)type).getTable().getDatabase().dataTypeCache.getCachedObject(type.getTypeName());
      if (arrayType != null) {
        itemType=arrayType.getElementType();
      }
    }
    final Object value=PostgreUtils.extractValue(object);
    if (value == null) {
      return null;
    }
 else     if (value instanceof String && itemType != null) {
      return convertStringToArray(session,itemType,(String)value);
    }
 else {
      return new JDBCArray(itemType,DBUtils.findValueHandler(session,itemType),new Object[]{value});
    }
  }
  return super.getValueFromObject(session,type,object,copy);
}
