{
  int jobsRunning=0;
  for (  QueryProcessor queryProcessor : queryProcessors) {
    jobsRunning+=queryProcessor.curJobRunning.get();
  }
  if (jobsRunning > 0) {
    log.warn("There are " + jobsRunning + " SQL job(s) still running in the editor");
  }
  for (  QueryProcessor queryProcessor : queryProcessors) {
    for (    QueryResultsContainer resultsProvider : queryProcessor.getResultProviders()) {
      ResultSetViewer rsv=resultsProvider.getResultSetViewer();
      if (rsv != null && rsv.isDirty()) {
        return rsv.promptToSaveOnClose();
      }
    }
  }
  return ISaveablePart2.DEFAULT;
}
