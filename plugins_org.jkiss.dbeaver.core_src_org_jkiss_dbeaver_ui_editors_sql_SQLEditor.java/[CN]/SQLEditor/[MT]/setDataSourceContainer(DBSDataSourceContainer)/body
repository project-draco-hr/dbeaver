{
  if (container == dataSourceContainer) {
    return true;
  }
  releaseContainer();
  closeAllJobs();
  dataSourceContainer=container;
  if (dataSourceContainer != null) {
    dataSourceContainer.getPreferenceStore().addPropertyChangeListener(this);
  }
  IPathEditorInput input=getEditorInput();
  if (input == null) {
    return false;
  }
  IFile file=ContentUtils.getFileFromEditorInput(input);
  if (file == null || !file.exists()) {
    log.warn("File '" + input.getPath() + "' doesn't exists");
    return false;
  }
  SQLEditorInput.setScriptDataSource(file,container,true);
  checkConnected();
  onDataSourceChange();
  if (dataSourceContainer != null) {
    dataSourceContainer.acquire(this);
  }
  return true;
}
