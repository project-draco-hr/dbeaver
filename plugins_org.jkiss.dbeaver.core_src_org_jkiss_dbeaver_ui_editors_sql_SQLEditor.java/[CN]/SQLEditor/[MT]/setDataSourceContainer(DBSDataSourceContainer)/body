{
  if (container == dataSourceContainer) {
    return true;
  }
  if (dataSourceContainer != null) {
    dataSourceContainer.release(this);
    dataSourceContainer=null;
  }
  closeAllJobs();
  dataSourceContainer=container;
  IPathEditorInput input=getEditorInput();
  if (input == null) {
    return false;
  }
  IFile file=ContentUtils.convertPathToWorkspaceFile(input.getPath());
  if (file == null || !file.exists()) {
    log.warn("File '" + input.getPath() + "' doesn't exists");
    return false;
  }
  SQLEditorInput.setScriptDataSource(file,container,true);
  checkConnected();
  onDataSourceChange();
  if (container != null) {
    container.acquire(this);
  }
  return true;
}
