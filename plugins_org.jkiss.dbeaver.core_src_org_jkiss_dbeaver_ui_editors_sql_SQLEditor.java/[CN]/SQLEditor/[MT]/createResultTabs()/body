{
  resultTabs=new CTabFolder(sashForm,SWT.TOP | SWT.FLAT);
  resultTabs.setLayoutData(new GridData(GridData.FILL_BOTH));
  resultTabs.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent e){
      Object data=e.item.getData();
      if (data instanceof ResultSetViewer) {
        curResultSet=(ResultSetViewer)data;
      }
    }
  }
);
  resultTabs.setSimple(true);
  planView=new ExplainPlanViewer(this,resultTabs,this);
  final SQLLogPanel logViewer=new SQLLogPanel(resultTabs,this);
  resultTabs.addListener(SWT.MouseDoubleClick,new Listener(){
    @Override public void handleEvent(    Event event){
      if (event.button != 1) {
        return;
      }
      CTabItem selectedItem=resultTabs.getItem(new Point(event.getBounds().x,event.getBounds().y));
      if (selectedItem != null && selectedItem == resultTabs.getSelection()) {
        if (sashForm.getMaximizedControl() == null) {
          sashForm.setMaximizedControl(resultTabs);
        }
 else {
          sashForm.setMaximizedControl(null);
        }
      }
    }
  }
);
{
    MenuManager menuMgr=new MenuManager();
    Menu menu=menuMgr.createContextMenu(resultTabs);
    menuMgr.addMenuListener(new IMenuListener(){
      @Override public void menuAboutToShow(      IMenuManager manager){
        if (sashForm.getMaximizedControl() == null) {
          manager.add(new Action("Maximize results"){
            @Override public void run(){
            }
          }
);
        }
 else {
          manager.add(new Action("Normalize results"){
            @Override public void run(){
            }
          }
);
        }
        if (resultTabs.getItemCount() > 3) {
          manager.add(new Action("Close multiple results"){
            @Override public void run(){
            }
          }
);
        }
      }
    }
);
    menuMgr.setRemoveAllWhenShown(true);
    resultTabs.setMenu(menu);
  }
  createResultSetViewer();
  CTabItem item=new CTabItem(resultTabs,SWT.NONE);
  item.setControl(planView.getControl());
  item.setText(CoreMessages.editors_sql_explain_plan);
  item.setImage(imgExplainPlan);
  item.setData(planView);
  item=new CTabItem(resultTabs,SWT.NONE);
  item.setControl(logViewer);
  item.setText(CoreMessages.editors_sql_execution_log);
  item.setImage(imgLog);
  item.setData(logViewer);
  selectionProvider.trackViewer(getTextViewer().getTextWidget(),getTextViewer());
  selectionProvider.trackViewer(planView.getViewer().getControl(),planView.getViewer());
}
