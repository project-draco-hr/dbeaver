{
  IFile sqlFile=EditorUtils.getFileFromEditorInput(getEditorInput());
  releaseContainer();
  closeAllJobs();
  IProject project=getProject();
  if (project != null) {
    final DataSourceRegistry dataSourceRegistry=DBeaverCore.getInstance().getProjectRegistry().getDataSourceRegistry(project);
    if (dataSourceRegistry != null) {
      dataSourceRegistry.removeDataSourceListener(this);
    }
  }
  planView=null;
  queryProcessors.clear();
  curQueryProcessor=null;
  super.dispose();
  if (sqlFile != null) {
    deleteFileIfEmpty(sqlFile);
  }
}
