{
  if (sashForm.getMaximizedControl() == null) {
    if (UIUtils.hasFocus(resultTabs)) {
      getEditorControl().setFocus();
    }
 else {
      CTabItem selTab=resultTabs.getSelection();
      if (selTab != null) {
        ResultSetViewer viewer=getResultSetViewer();
        if (viewer != null && viewer.getActivePresentation().getControl().isVisible()) {
          viewer.getActivePresentation().getControl().setFocus();
        }
 else {
          selTab.getControl().setFocus();
        }
      }
    }
  }
}
