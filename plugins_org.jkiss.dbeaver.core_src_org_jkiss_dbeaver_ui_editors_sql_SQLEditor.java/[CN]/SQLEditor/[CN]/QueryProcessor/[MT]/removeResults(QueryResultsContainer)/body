{
  if (resultProviders.size() > 1) {
    resultProviders.remove(resultsProvider);
  }
 else {
    queryProcessors.remove(this);
    if (curQueryProcessor == this) {
      if (queryProcessors.isEmpty()) {
        curQueryProcessor=null;
        curResultsProvider=null;
      }
 else {
        curQueryProcessor=queryProcessors.get(0);
        curResultsProvider=curQueryProcessor.getFirstResults();
      }
    }
  }
}
