{
  this.classLoader=null;
  if (!omitDownload) {
    validateFilesPresence(runnableContext);
  }
  long st=System.currentTimeMillis();
  resolveDependencies(runnableContext);
  System.out.println("Resolve: " + (System.currentTimeMillis() - st) + "ms");
  List<URL> libraryURLs=new ArrayList<>();
  for (  DBPDriverLibrary file : dependencies.getLibraryList()) {
    if (file.isDisabled() || file.getType() != DBPDriverLibrary.FileType.jar) {
      continue;
    }
    File localFile=file.getLocalFile();
    if (localFile == null) {
      continue;
    }
    URL url;
    try {
      url=localFile.toURI().toURL();
    }
 catch (    MalformedURLException e) {
      log.error(e);
      continue;
    }
    libraryURLs.add(url);
  }
  this.classLoader=new DriverClassLoader(this,libraryURLs.toArray(new URL[libraryURLs.size()]),getDataSourceProvider().getClass().getClassLoader());
}
