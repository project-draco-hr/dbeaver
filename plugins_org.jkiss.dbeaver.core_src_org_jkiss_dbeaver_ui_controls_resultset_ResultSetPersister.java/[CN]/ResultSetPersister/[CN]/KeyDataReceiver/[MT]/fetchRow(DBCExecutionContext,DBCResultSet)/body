{
  DBCResultSetMetaData rsMeta=resultSet.getResultSetMetaData();
  List<DBCAttributeMetaData> keyAttributes=rsMeta.getAttributes();
  for (int i=0; i < keyAttributes.size(); i++) {
    DBCAttributeMetaData keyAttribute=keyAttributes.get(i);
    DBDValueHandler valueHandler=DBUtils.findValueHandler(context,keyAttribute);
    Object keyValue=valueHandler.fetchValueObject(context,resultSet,keyAttribute,i);
    if (keyValue == null) {
      continue;
    }
    boolean updated=false;
    if (!CommonUtils.isEmpty(keyAttribute.getName())) {
      int colIndex=model.getMetaColumnIndex(statement.table,keyAttribute.getName());
      if (colIndex >= 0) {
        statement.updatedCells.put(colIndex,keyValue);
        updated=true;
      }
    }
    if (!updated) {
      for (int k=0; k < columns.length; k++) {
        DBDAttributeBinding column=columns[k];
        if (column.getEntityAttribute().isSequence()) {
          statement.updatedCells.put(k,keyValue);
          updated=true;
          break;
        }
      }
    }
    if (!updated) {
      ResultSetViewer.log.debug("Could not find target column for autogenerated key '" + keyAttribute.getName() + "'");
    }
  }
}
