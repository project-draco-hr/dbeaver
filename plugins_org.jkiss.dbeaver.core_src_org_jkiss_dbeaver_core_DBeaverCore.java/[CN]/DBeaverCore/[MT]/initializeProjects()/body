{
  final IProgressMonitor monitor=new NullProgressMonitor();
  try {
    projectRegistry.loadProjects(monitor);
  }
 catch (  DBException e) {
    log.error("Error loading projects",e);
  }
  try {
    tempProject=workspace.getRoot().getProject(TEMP_PROJECT_NAME);
    File systemTempFolder=new File(System.getProperty("java.io.tmpdir"));
    File dbeaverTempFolder=new File(systemTempFolder,TEMP_PROJECT_NAME + "." + CommonUtils.escapeIdentifier(workspace.getRoot().getLocation().toString()));
    if (tempProject.exists()) {
      try {
        tempProject.delete(true,true,monitor);
      }
 catch (      CoreException e) {
        log.error("Can't delete temp project",e);
      }
    }
    if (!dbeaverTempFolder.exists()) {
      if (!dbeaverTempFolder.mkdirs()) {
        log.error("Can't create directory '" + dbeaverTempFolder.getAbsolutePath() + "'");
      }
    }
    IProjectDescription description=workspace.newProjectDescription(TEMP_PROJECT_NAME);
    description.setLocation(new Path(dbeaverTempFolder.getAbsolutePath()));
    description.setName(TEMP_PROJECT_NAME);
    description.setComment("Project for DBeaver temporary content");
    try {
      tempProject.create(description,IProject.HIDDEN,monitor);
    }
 catch (    CoreException e) {
      log.error("Can't create temp project",e);
    }
    tempProject.open(monitor);
  }
 catch (  Throwable e) {
    log.error("Cannot open temp project",e);
  }
}
