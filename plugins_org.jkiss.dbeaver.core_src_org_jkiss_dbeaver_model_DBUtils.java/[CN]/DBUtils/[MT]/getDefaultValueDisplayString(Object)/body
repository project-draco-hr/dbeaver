{
  if (value == null) {
    return DBConstants.NULL_VALUE_LABEL;
  }
  if (value.getClass().isArray()) {
    if (value.getClass().getComponentType() == Byte.TYPE) {
      byte[] bytes=(byte[])value;
      return CommonUtils.toHexString(bytes,0,2000);
    }
 else {
      return UIUtils.makeStringForUI(value).toString();
    }
  }
  String className=value.getClass().getName();
  if (className.startsWith("java.lang") || className.startsWith("java.util")) {
    return value.toString();
  }
  boolean hasToString;
  try {
    hasToString=value.getClass().getMethod("toString").getDeclaringClass() != Object.class;
  }
 catch (  Throwable e) {
    log.debug(e);
    hasToString=false;
  }
  if (hasToString) {
    return value.toString();
  }
 else {
    return "[" + value.getClass().getSimpleName() + "]";
  }
}
