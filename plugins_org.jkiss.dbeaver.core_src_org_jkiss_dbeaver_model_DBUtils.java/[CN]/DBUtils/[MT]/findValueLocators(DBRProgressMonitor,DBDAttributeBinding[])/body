{
  Map<DBSEntity,DBDRowIdentifier> locatorMap=new HashMap<DBSEntity,DBDRowIdentifier>();
  try {
    for (    DBDAttributeBinding column : bindings) {
      DBCAttributeMetaData meta=column.getMetaAttribute();
      if (meta.getEntity() == null || !meta.getEntity().isIdentified(monitor)) {
        continue;
      }
      DBSEntityAttribute tableColumn=meta.getAttribute(monitor);
      if (tableColumn == null) {
        continue;
      }
      DBDRowIdentifier rowIdentifier=locatorMap.get(meta.getEntity().getEntity(monitor));
      if (rowIdentifier == null) {
        DBCEntityIdentifier entityIdentifier=meta.getEntity().getBestIdentifier(monitor);
        if (entityIdentifier == null) {
          continue;
        }
        rowIdentifier=new DBDRowIdentifier(meta.getEntity().getEntity(monitor),entityIdentifier);
        locatorMap.put(meta.getEntity().getEntity(monitor),rowIdentifier);
      }
      column.initValueLocator(tableColumn,rowIdentifier);
    }
  }
 catch (  DBException e) {
    log.error("Can't extract column identifier info",e);
  }
}
