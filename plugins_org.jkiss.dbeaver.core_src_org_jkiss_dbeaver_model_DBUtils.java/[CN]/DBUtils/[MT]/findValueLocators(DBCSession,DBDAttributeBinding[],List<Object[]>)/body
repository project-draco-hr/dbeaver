{
  Map<DBSEntity,DBDRowIdentifier> locatorMap=new HashMap<DBSEntity,DBDRowIdentifier>();
  try {
    for (    DBDAttributeBinding column : bindings) {
      DBCAttributeMetaData attrMeta=column.getMetaAttribute();
      DBCEntityMetaData entityMeta=attrMeta.getEntityMetaData();
      if (entityMeta != null) {
        DBSEntityAttribute tableColumn=attrMeta.getEntityAttribute(session.getProgressMonitor());
        DBSEntity ownerEntity=entityMeta.getEntity(session.getProgressMonitor());
        if (ownerEntity != null) {
          DBDRowIdentifier rowIdentifier=locatorMap.get(ownerEntity);
          if (rowIdentifier == null) {
            DBCEntityIdentifier entityIdentifier=entityMeta.getBestIdentifier(session.getProgressMonitor());
            if (entityIdentifier != null) {
              rowIdentifier=new DBDRowIdentifier(ownerEntity,entityIdentifier);
              locatorMap.put(ownerEntity,rowIdentifier);
            }
          }
          column.initValueLocator(tableColumn,rowIdentifier);
        }
      }
      column.readNestedBindings(session,rows);
    }
  }
 catch (  DBException e) {
    log.error("Can't extract column identifier info",e);
  }
}
