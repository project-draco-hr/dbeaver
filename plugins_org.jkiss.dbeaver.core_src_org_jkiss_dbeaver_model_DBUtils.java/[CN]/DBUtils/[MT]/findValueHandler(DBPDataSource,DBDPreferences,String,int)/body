{
  DBDValueHandler typeHandler=null;
  DataTypeProviderDescriptor typeProvider=DataSourceProviderRegistry.getDefault().getDataTypeProvider(dataSource,typeName,valueType);
  if (typeProvider != null) {
    typeHandler=typeProvider.getInstance().getHandler(preferences,typeName,valueType);
  }
  if (typeHandler == null) {
    typeHandler=preferences.getDefaultValueHandler();
  }
  return typeHandler;
}
