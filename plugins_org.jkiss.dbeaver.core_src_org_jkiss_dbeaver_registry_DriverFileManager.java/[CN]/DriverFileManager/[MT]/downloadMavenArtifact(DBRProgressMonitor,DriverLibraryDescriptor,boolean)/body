{
  MavenArtifactReference artifactInfo=new MavenArtifactReference(library.getPath());
  if (updateVersion) {
    MavenRegistry.getInstance().resetArtifactInfo(artifactInfo);
  }
  MavenArtifact artifact=MavenRegistry.getInstance().findArtifact(artifactInfo);
  if (artifact == null) {
    throw new IOException("Maven artifact '" + library.getPath() + "' not found");
  }
  if (updateVersion) {
    artifact.loadMetadata();
  }
 else {
    MavenLocalVersion localVersion=artifact.getActiveLocalVersion();
    if (localVersion != null && localVersion.getCacheFile().exists()) {
      return artifact;
    }
  }
  artifact.resolveVersion(monitor,artifactInfo.getVersion());
  return artifact;
}
