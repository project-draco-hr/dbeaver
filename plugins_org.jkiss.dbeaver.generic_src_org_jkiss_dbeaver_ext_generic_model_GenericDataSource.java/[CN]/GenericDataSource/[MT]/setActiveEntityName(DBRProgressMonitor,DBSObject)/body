{
  if (CommonUtils.isEmpty(querySetActiveDB) || !(entity instanceof GenericObjectContainer)) {
    throw new DBException("Active database can't be changed for this kind of datasource!");
  }
  String changeQuery=querySetActiveDB.replaceFirst("\\?",entity.getName());
  JDBCExecutionContext context=openContext(monitor,DBCExecutionPurpose.UTIL,"Set active catalog");
  try {
    JDBCPreparedStatement dbStat=context.prepareStatement(changeQuery);
    try {
      dbStat.execute();
    }
  finally {
      dbStat.close();
    }
  }
 catch (  SQLException e) {
    throw new DBException(e);
  }
 finally {
    context.close();
  }
  selectedEntityName=entity.getName();
}
