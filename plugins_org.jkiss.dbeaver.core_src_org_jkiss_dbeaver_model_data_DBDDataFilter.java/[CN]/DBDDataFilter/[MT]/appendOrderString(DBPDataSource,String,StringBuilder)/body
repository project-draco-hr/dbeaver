{
  boolean hasOrder=false;
  for (  DBDAttributeConstraint co : getOrderConstraints()) {
    if (hasOrder)     query.append(',');
    boolean hasPrevIdentifier=false;
    if (conditionTable != null) {
      query.append(conditionTable);
      hasPrevIdentifier=true;
    }
    int insertPos=query.length();
    for (DBDAttributeBinding attribute=co.getAttribute(); attribute != null; attribute=attribute.getParent()) {
      query.insert(insertPos,DBUtils.getQuotedIdentifier(dataSource,attribute.getAttributeName()));
      if (hasPrevIdentifier) {
        query.insert(insertPos,'.');
      }
      hasPrevIdentifier=true;
    }
    if (co.isOrderDescending()) {
      query.append(" DESC");
    }
    hasOrder=true;
  }
  if (!CommonUtils.isEmpty(order)) {
    if (hasOrder)     query.append(',');
    query.append(order);
  }
}
