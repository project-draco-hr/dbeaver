{
  final IProject oldValue=this.activeProject;
  this.activeProject=project;
  DBeaverCore.getGlobalPreferenceStore().setValue(PROP_PROJECT_ACTIVE,project == null ? "" : project.getName());
  GlobalPropertyTester.firePropertyChange(GlobalPropertyTester.PROP_HAS_ACTIVE_PROJECT);
  Display.getDefault().asyncExec(new Runnable(){
    @Override public void run(){
synchronized (projectListeners) {
        for (        DBPProjectListener listener : projectListeners) {
          listener.handleActiveProjectChange(oldValue,activeProject);
        }
      }
    }
  }
);
}
