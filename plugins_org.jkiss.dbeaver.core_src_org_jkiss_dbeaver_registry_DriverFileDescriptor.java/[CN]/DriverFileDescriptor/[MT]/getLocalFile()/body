{
  if (path.startsWith(FILE_SOURCE_PLATFORM)) {
    try {
      return RuntimeUtils.getPlatformFile(path);
    }
 catch (    IOException e) {
      log.warn("Bad file URL: " + path,e);
    }
  }
  boolean externalPath=isRepositoryArtifact() || isMavenArtifact();
  if (!externalPath) {
    File libraryFile=new File(path);
    if (libraryFile.exists()) {
      return libraryFile;
    }
  }
  File platformFile=detectLocalFile();
  if (platformFile != null && platformFile.exists()) {
    return platformFile;
  }
  if (!externalPath) {
    URL url=driver.getProviderDescriptor().getContributorBundle().getEntry(path);
    if (url == null) {
      url=driver.getProviderDescriptor().getRegistry().findResourceURL(path);
    }
    if (url != null) {
      try {
        url=FileLocator.toFileURL(url);
      }
 catch (      IOException ex) {
        log.warn(ex);
      }
    }
    if (url != null) {
      return new File(url.getFile());
    }
  }
  return platformFile;
}
