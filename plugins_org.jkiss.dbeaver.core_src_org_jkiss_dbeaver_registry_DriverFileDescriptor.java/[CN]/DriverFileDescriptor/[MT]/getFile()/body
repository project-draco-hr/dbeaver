{
  if (path.startsWith("platform:/")) {
    try {
      return RuntimeUtils.getPlatformFile(path);
    }
 catch (    IOException e) {
      log.warn("Bad file URL: " + path,e);
    }
  }
  File libraryFile=new File(path);
  if (libraryFile.exists()) {
    return libraryFile;
  }
  File platformFile=getLocalFile();
  if (platformFile.exists()) {
    return platformFile;
  }
{
    URL url=driver.getProviderDescriptor().getContributorBundle().getEntry(path);
    if (url == null) {
      url=driver.getProviderDescriptor().getRegistry().findResourceURL(path);
    }
    if (url != null) {
      try {
        url=FileLocator.toFileURL(url);
      }
 catch (      IOException ex) {
        log.warn(ex);
      }
    }
    if (url != null) {
      return new File(url.getFile());
    }
  }
  return platformFile;
}
