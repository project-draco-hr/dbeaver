{
  try {
    ISourceViewer sourceViewer=getSourceViewer();
    if (sourceViewer == null)     return;
    String property=event.getProperty();
    if (LINE_NUMBER_RULER.equals(property)) {
      IColumnSupport columnSupport=(IColumnSupport)getAdapter(IColumnSupport.class);
      if (fLineColumn == null) {
        RulerColumnDescriptor lineNumberColumnDescriptor=RulerColumnRegistry.getDefault().getColumnDescriptor(LineNumberColumn.ID);
        if (lineNumberColumnDescriptor != null)         columnSupport.setColumnVisible(lineNumberColumnDescriptor,true);
      }
    }
  }
  finally {
    super.handlePreferenceStoreChanged(event);
  }
}
