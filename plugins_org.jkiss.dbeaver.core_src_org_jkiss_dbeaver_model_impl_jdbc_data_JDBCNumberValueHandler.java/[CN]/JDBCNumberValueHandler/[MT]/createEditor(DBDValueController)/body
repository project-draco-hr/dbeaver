{
switch (controller.getEditType()) {
case INLINE:
case PANEL:
    if (controller.getValueType().getTypeID() == java.sql.Types.BIT) {
      return new ValueEditor<Combo>(controller){
        @Override protected Combo createControl(        Composite editPlaceholder){
          final Combo editor=new Combo(valueController.getEditPlaceholder(),SWT.READ_ONLY);
          editor.add("0");
          editor.add("1");
          editor.setEnabled(!valueController.isReadOnly());
          return editor;
        }
        @Override public void refreshValue(){
          Object value=valueController.getValue();
          control.setText(value == null ? "0" : value.toString());
        }
        @Override public Object extractValue(        DBRProgressMonitor monitor){
switch (control.getSelectionIndex()) {
case 0:
            return (byte)0;
case 1:
          return (byte)1;
default :
        return null;
    }
  }
}
;
}
 else {
return new ValueEditor<StyledText>(controller){
  @Override protected StyledText createControl(  Composite editPlaceholder){
    final StyledText editor=new StyledText(valueController.getEditPlaceholder(),SWT.BORDER);
    editor.setEditable(!valueController.isReadOnly());
    editor.setTextLimit(MAX_NUMBER_LENGTH);
switch (valueController.getValueType().getTypeID()) {
case java.sql.Types.BIGINT:
case java.sql.Types.INTEGER:
case java.sql.Types.SMALLINT:
case java.sql.Types.TINYINT:
case java.sql.Types.BIT:
      editor.addVerifyListener(UIUtils.getIntegerVerifyListener(locale));
    break;
default :
  editor.addVerifyListener(UIUtils.getNumberVerifyListener(locale));
break;
}
return editor;
}
@Override public void refreshValue(){
Object value=valueController.getValue();
if (value != null) {
control.setText(getValueDisplayString(valueController.getValueType(),value,DBDDisplayFormat.UI));
}
if (valueController.getEditType() == DBDValueController.EditType.INLINE) {
control.selectAll();
}
}
@Override public Object extractValue(DBRProgressMonitor monitor){
String text=control.getText();
if (CommonUtils.isEmpty(text)) {
return null;
}
return convertStringToNumber(formatter,text,valueController.getValue(),valueController.getValueType());
}
}
;
}
case EDITOR:
return new DefaultValueViewDialog(controller);
default :
return null;
}
}
