{
  EditConstraintDialog editDialog=new EditConstraintDialog(workbenchWindow.getShell(),DB2Messages.edit_db2_constraint_manager_dialog_title,db2Table,CONS_TYPES);
  if (editDialog.open() != IDialogConstants.OK_ID) {
    return null;
  }
  String suffix;
  DBSEntityConstraintType type=editDialog.getConstraintType();
  if (type.equals(DBSEntityConstraintType.PRIMARY_KEY)) {
    suffix=CONS_PK_SUF;
  }
 else {
    suffix=CONS_UK_SUF;
  }
  DB2TableUniqueKey constraint=new DB2TableUniqueKey(db2Table,editDialog.getConstraintType());
  String constraintName=DBObjectNameCaseTransformer.transformName(constraint,CommonUtils.escapeIdentifier(db2Table.getName()) + suffix);
  constraint.setName(constraintName);
  List<DB2TableKeyColumn> columns=new ArrayList<DB2TableKeyColumn>(editDialog.getSelectedColumns().size());
  DB2TableKeyColumn column;
  int colIndex=1;
  for (  DBSEntityAttribute tableColumn : editDialog.getSelectedColumns()) {
    column=new DB2TableKeyColumn(constraint,(DB2TableColumn)tableColumn,colIndex++);
    columns.add(column);
  }
  constraint.setColumns(columns);
  return constraint;
}
