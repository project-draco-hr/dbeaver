{
  if (updateSiteDirectory == null) {
    updateSiteDirectory=targetDirectory + "/updateSite";
  }
  File targetPath=new File(targetDirectory);
  System.out.println("Generate Eclipse features into " + targetPath.getAbsolutePath() + "...");
  featuresPath=new File(targetPath,"features");
  makeDirectory(featuresPath);
  for (  DriverInfo driver : drivers) {
    generateDriverFeature(driver);
  }
  System.out.println("Modify update site " + updateSiteDirectory);
  File updateSiteDir=new File(updateSiteDirectory);
  if (updateSiteDir.exists()) {
    File siteXML=new File(updateSiteDir,"site.xml");
    System.out.println("Patch update site index " + siteXML.getAbsolutePath() + "...");
    if (siteXML.exists()) {
      patchUpdateSite(siteXML);
    }
  }
}
