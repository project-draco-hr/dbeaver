{
  super(parent,style,createContentProvider(rootNode,nodeMeta));
  this.workbenchPart=workbenchPart;
  this.rootNode=rootNode;
  this.nodeMeta=nodeMeta;
  this.selectionProvider=new NodeSelectionProvider(super.getSelectionProvider());
  NavigatorUtils.addContextMenu(workbenchPart,getSelectionProvider(),getItemsViewer().getControl(),this);
  setDoubleClickHandler(new IDoubleClickListener(){
    @Override public void doubleClick(    DoubleClickEvent event){
      DBNNode dbmNode=NavigatorUtils.getSelectedNode(getItemsViewer());
      if (!(dbmNode instanceof DBNDatabaseNode) || !dbmNode.allowsOpen()) {
        return;
      }
      NavigatorHandlerObjectOpen.openEntityEditor((DBNDatabaseNode)dbmNode,null,workbenchPart != null ? workbenchPart.getSite().getWorkbenchWindow() : DBeaverUI.getActiveWorkbenchWindow());
    }
  }
);
  NavigatorUtils.addDragAndDropSupport(getItemsViewer());
  DBeaverCore.getInstance().getNavigatorModel().addListener(this);
}
